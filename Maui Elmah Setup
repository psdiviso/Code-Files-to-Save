    static MauiAppBuilder ConfigureElmah(this MauiAppBuilder builder)
    {
        builder.Logging.AddElmahIo(options =>
        {
            options.ApiKey = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";
            options.LogId = new Guid("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx");
            options.OnMessage = msg =>
            {
                msg.Hostname = DeviceInfo.Manufacturer + " - " + DeviceInfo.Current.Model;
                msg.Application = AppInfo.Current.PackageName;
                msg.Version = AppInfo.Current.VersionString;
                msg.Category = DeviceInfo.Current.Platform == DevicePlatform.Android ? "Android" : "IOS";
                msg.User = $"API TOKEN: {Preferences.Get("Token", "NO API TOKEN REGISTERED")}";
            };
        });
        return builder;
    }


    public void SetupElmahLogging()
    {
        AppDomain.CurrentDomain.UnhandledException += (sender, args) =>
        {
            Exception exception = (Exception)args.ExceptionObject;
            _logger.LogError(exception, exception.GetBaseException().Message);
            Task.Delay(1000).Wait();
        };
    }
